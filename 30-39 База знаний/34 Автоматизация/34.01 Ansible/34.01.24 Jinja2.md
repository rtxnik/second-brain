# 34.01.24 Jinja2

Jinja2 - шаблонизатор Python, используемый Ansible для переменных и динамического контента.

## Синтаксис

**Переменные:**

```jinja2
{{ variable_name }}
{{ dict_var.key }}
{{ list_var[0] }}
```

**Условия:**

```jinja2
{% if condition %}
    content
{% elif other %}
    alternative
{% else %}
    default
{% endif %}
```

**Циклы:**

```jinja2
{% for item in list %}
    {{ item }}
{% endfor %}
```

## Фильтры

```jinja2
# Строки
{{ name | upper }}
{{ text | lower }}
{{ string | replace('old', 'new') }}

# Числа
{{ price | round(2) }}
{{ value | int }}

# Списки
{{ packages | join(', ') }}
{{ items | length }}
{{ list | unique }}

# Ansible специфичные
{{ password | password_hash('sha512') }}
{{ data | to_json }}
{{ config | to_nice_yaml }}
```

## Тесты

```jinja2
{% if variable is defined %}
{% if list_var is iterable %}
{% if string is match("^web-.*") %}
```

## Значения по умолчанию

```jinja2
{{ timeout | default(30) }}
{{ ssl_enabled | default(false) }}
```

---

Дата создания: 02-12-2025 18:22

#### Ссылки:

[[34.01.00 Ansible]]
[[34.01.17 Templates]]
[[34.01.16 Variables]]
