# 32.01.14 Compose

Docker Compose - это инструмент для определения и запуска многоконтейнерных приложений. **Compose использует YAML файл для описания сервисов, сетей и томов, позволяя управлять всем приложением одной командой**.
Основной файл конфигурации `docker-compose.yml` описывает желаемое состояние приложения: какие контейнеры запустить, как их связать, какие тома примонтировать, какие переменные среды задать.
Compose автоматически создает изолированную сеть для приложения, где сервисы могут обращаться друг к другу по именам. Это упрощает конфигурацию и устраняет необходимость в ручном управлении сетями.

## Пример docker-compose.yml

```yaml
version: "3.8"
services:
  web:
    image: nginx:alpine
    ports:
      - "80:80"
    volumes:
      - ./html:/usr/share/nginx/html
    depends_on:
      - api

  api:
    build: ./api
    environment:
      - DB_HOST=db
    depends_on:
      - db

  db:
    image: postgres:14
    volumes:
      - db_data:/var/lib/postgresql/data
    environment:
      - POSTGRES_PASSWORD=secret

volumes:
  db_data:
```

## Команды

```bash
docker-compose up        # запуск приложения
docker-compose up -d     # в фоновом режиме
docker-compose down      # остановка и удаление
docker-compose ps        # статус сервисов
docker-compose logs      # просмотр логов всех сервисов
docker-compose build     # пересборка образов
```

## Возможности

- Автоматическое создание изолированной сети
- Service Discovery (обращение по именам)
- Переменные среды и секреты
- Множественные файлы для разных окружений

Compose идеально подходит для разработки, тестирования и развертывания на одном хосте. Для продакшн кластеров используются инструменты оркестрации типа [[33.01 Kubernetes]].

---

Дата создания: 02-12-2025 18:22

#### Ссылки:

[[32.01.00 Docker]]
[[32.01.02 Термины]]
[[32.01.07 Container]]
[[32.01.09 Network]]
