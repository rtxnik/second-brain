# 32.02.02 Контейнер

Контейнер — это изолированная среда выполнения, содержащая приложение и все его зависимости. **Контейнер представляет собой экземпляр контейнерного образа, работающий в изолированном пространстве с выделенными ресурсами**.

В отличие от [[31.04.01 Виртуальная машина|виртуальных машин]], контейнеры не включают полную операционную систему, а используют ядро хоста.

## Структура контейнера

**Базовый образ** — минимальная файловая система (Alpine, Ubuntu, scratch)
**Приложение** — исполняемые файлы и библиотеки
**Зависимости** — runtime, пакеты, конфигурационные файлы
**Переменные среды** — настройки приложения
**Точки монтирования** — доступ к внешним данным

## Жизненный цикл

- **Created** — контейнер создан, но не запущен
- **Running** — контейнер активно выполняется
- **Paused** — выполнение приостановлено, состояние сохранено
- **Stopped** — контейнер остановлен, процессы завершены
- **Removed** — контейнер удален из системы

## Типы контейнеров

**Application Containers** — содержат одно приложение или сервис (Docker подход)
**System Containers** — эмулируют полную операционную систему ([[31.01.27 LXC]] подход)
**Init Containers** — выполняют задачи инициализации перед основным контейнером
**Sidecar Containers** — дополнительные сервисы (логирование, мониторинг)

## Изоляция ресурсов

**Process Isolation** — контейнер видит только свои процессы
**Network Isolation** — собственное сетевое пространство имен
**Filesystem Isolation** — изолированная файловая система
**Resource Limits** — ограничения CPU, памяти, дискового I/O

## Stateful vs Stateless

**Stateless контейнеры** — не сохраняют данные между перезапусками, идеальны для микросервисов
**Stateful контейнеры** — используют постоянные тома для хранения данных

Stateless подход предпочтителен для [[36.02 Микросервисы|микросервисной архитектуры]], так как обеспечивает простоту масштабирования и управления.

## Сетевое взаимодействие

Контейнеры могут взаимодействовать через:

- **Сетевые интерфейсы** — виртуальные сети контейнеров
- **Разделяемые тома** — общие файловые системы
- **API вызовы** — HTTP/REST или RPC коммуникация
- **Message queues** — асинхронный обмен сообщениями

## Безопасность

Контейнеры обеспечивают изоляцию безопасности через:

- **User namespaces** — изоляция пользователей
- **[[31.01.15 Capabilities]]** — ограниченные привилегии
- **SELinux/AppArmor** — дополнительные политики безопасности
- **Секреты** — безопасное управление паролями и ключами

---

Дата создания: 02-12-2025 18:22

#### Ссылки:

[[32.02.00 Основы]]
[[32.02.01 Основы контейнеризации]]
[[32.01.07 Container]]
[[31.04.01 Виртуальная машина]]
