# 31.01.24 SSH

Secure Shell - протокол безопасного удалённого подключения. Заменил небезопасные telnet и rsh.

## Подключение

```bash
ssh user@host
ssh host -l user
ssh user@host -p 2222        # нестандартный порт
```

## Аутентификация по ключу

```bash
# генерация ключа (рекомендую ed25519)
ssh-keygen -t ed25519 -C "email@example.com" -f ~/.ssh/mykey

# копирование на сервер
ssh-copy-id -i ~/.ssh/mykey.pub user@host

# или вручную добавить в ~/.ssh/authorized_keys
```

## Подключение с ключом

```bash
ssh -i ~/.ssh/mykey user@host
```

## Конфиг ~/.ssh/config

```
Host myserver
    HostName 10.0.0.5
    User nik
    Port 22
    IdentityFile ~/.ssh/mykey
    IdentitiesOnly yes
```

После этого просто `ssh myserver`.

## Отладка

```bash
ssh -v user@host     # verbose
ssh -vv user@host    # больше деталей
ssh -vvv user@host   # максимум
```

## Принудительно пароль

```bash
ssh -o PreferredAuthentications=password -o PubkeyAuthentication=no user@host
```

---

Дата создания: 2025-06-12
Ссылки:

[[31.01.00 Linux]]
[[31.01.21 Команды]]
