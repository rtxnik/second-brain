# 31.01.26 Cloud-init

Инструмент автоматизации развёртывания VM в облаках (AWS, GCP, Azure). Конфигурация в YAML.

## Возможности

- Сетевые настройки (IP, DHCP, DNS)
- Пользователи, SSH ключи, группы
- Установка пакетов через apt/yum
- Выполнение скриптов
- Настройка хранилищ

## Этапы работы

1. Получение метаданных от провайдера
2. Настройка системы по конфигу
3. Выполнение модулей (сеть, пакеты, скрипты)
4. Запись логов

## Пример конфига

```yaml
#cloud-config
hostname: my-server
fqdn: my-server.example.com

users:
  - name: admin
    ssh_authorized_keys:
      - ssh-rsa AAAAB3...

package_update: true
packages:
  - nginx
  - git

runcmd:
  - systemctl start nginx
```

## Отладка

```bash
# логи
/var/log/cloud-init.log
/var/log/cloud-init-output.log

# статус и перезапуск
cloud-init status
cloud-init clean && cloud-init init
```

Плюсы: автоматизация, скорость, консистентность.
Минусы: сложность отладки, цена ошибки.

---

Дата создания: 2025-03-28

Ссылки:

[[31.01.00 Linux]]
[[31.01.50 Установка]]
