# 31.01.54 Установка Arch

Ручная установка без инсталлятора. Учит понимать Linux изнутри.

Официальный гайд: https://wiki.archlinux.org/title/installation_guide

## 1. Сеть

```bash
ip a                              # проверить интерфейс
ip addr add 192.168.1.10/24 dev eth0
ip route add default via 192.168.1.1
echo "nameserver 8.8.8.8" > /etc/resolv.conf
```

## 2. Разметка диска

```bash
cfdisk /dev/sda    # или fdisk, parted
# /boot - 512M
# /     - 30G
# /home - остальное
```

## 3. Файловые системы

```bash
mkfs.ext4 /dev/sda1
mkfs.ext4 /dev/sda2
mkfs.ext4 /dev/sda3
```

## 4. Монтирование

```bash
mount /dev/sda2 /mnt
mount --mkdir /dev/sda1 /mnt/boot
mount --mkdir /dev/sda3 /mnt/home
```

## 5. Установка базы

```bash
pacstrap -K /mnt base linux linux-firmware vim grub
genfstab -U /mnt >> /mnt/etc/fstab
```

## 6. Настройка системы

```bash
arch-chroot /mnt
ln -sf /usr/share/zoneinfo/Europe/Moscow /etc/localtime
hwclock --systohc
vim /etc/locale.gen    # раскомментировать en_US.UTF-8
locale-gen
echo "LANG=en_US.UTF-8" > /etc/locale.conf
echo "myhostname" > /etc/hostname
passwd                 # пароль root
```

## 7. Загрузчик

```bash
grub-install /dev/sda
grub-mkconfig -o /boot/grub/grub.cfg
exit
reboot
```

---

Дата создания: 2025-03-27

Ссылки:

[[31.01.00 Linux]]
[[31.01.10 Arch]]
[[31.01.50 Установка]]
