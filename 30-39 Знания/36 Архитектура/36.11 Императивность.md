# 36.11 Императивность

Императивное программирование описывает последовательность команд для пошагового изменения состояния системы. **Императивный подход определяет "как" выполнить задачу через детальные инструкции и алгоритмы, предоставляя программисту полный контроль над процессом выполнения**.

В императивном стиле программист явно управляет потоком выполнения и состоянием переменных. Программа представляет собой последовательность команд, где каждый шаг четко определен и контролируется разработчиком.

## Характеристики

- Пошаговое выполнение команд
- Явное управление состоянием переменных и структур данных
- Использование циклов и условий для контроля потока
- Возможность побочных эффектов при изменении состояния

## Применение в DevOps

[[31.01.19 Скрипты|Shell скрипты]] являются классическим примером императивного подхода. Они описывают точную последовательность действий для установки пакетов, настройки сервисов и конфигурирования системы. Каждая команда выполняется в определенном порядке, и результат зависит от успешного выполнения предыдущих шагов.

Императивный подход незаменим для процедурных задач, где важна точная последовательность операций: развертывание приложений, диагностика проблем, работа с legacy системами. Troubleshooting часто требует пошагового анализа состояния.

## Примеры императивного кода

### Bash скрипт

```bash
#!/bin/bash
# Установка и настройка веб-сервера

# Шаг 1: Обновить пакеты
apt update
apt upgrade -y

# Шаг 2: Установить nginx
apt install nginx -y

# Шаг 3: Запустить сервис
systemctl start nginx
systemctl enable nginx

# Шаг 4: Настроить файрвол
ufw allow 80
ufw allow 443
```

### Python

```python
# Обработка списка пользователей
users = ["alice", "bob", "charlie"]
active_users = []

for user in users:
    if len(user) > 3:
        active_users.append(user.upper())

print(active_users)  # ['ALICE', 'CHARLIE']
```

## Преимущества

- Понятность логики выполнения
- Полный контроль над процессом
- Простота пошаговой отладки
- Эффективное использование ресурсов

## Недостатки

- Сложность поддержки больших скриптов
- Подверженность ошибкам из-за множества деталей
- Трудность гарантирования повторяемости результатов
- Сложность распараллеливания выполнения

## Эволюция подходов

В современном DevOps наблюдается переход от императивных скриптов к [[36.12 Декларативность|декларативным]] подходам через инструменты типа [[34.01.00 Ansible|Ansible]], Terraform, Kubernetes. Однако императивный подход остается важным для низкоуровневых операций, отладки, интеграции разнородных систем и выполнения разовых миграционных задач.

---

Дата создания: 2025-12-01

Ссылки:

[[36.00 Архитектура]]
[[36.12 Декларативность]]
[[31.01.19 Скрипты]]
[[34.01.00 Ansible]]
