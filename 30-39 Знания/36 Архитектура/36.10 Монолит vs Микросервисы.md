# 36.10 Монолит vs Микросервисы

Выбор между [[36.01 Монолит|монолитной]] и [[36.02 Микросервисы|микросервисной]] архитектурой — ключевое архитектурное решение. Зависит от размера команды, сложности проекта, требований к масштабированию и DevOps зрелости.

## Критерии сравнения

| Критерий | Монолит | Микросервисы |
|----------|---------|--------------|
| Размер команды | 2-8 разработчиков | 20+ разработчиков |
| Сложность проекта | Простая-средняя | Высокая |
| Time-to-market | Быстрый | Медленный |
| Масштабирование | Вертикальное | Горизонтальное |
| DevOps зрелость | Базовая | Продвинутая |
| Технологии | Единый стек | Разнообразие |

## Когда монолит

- **Новые проекты** — неопределённые требования, быстрая валидация
- **Небольшие команды** — до 8-10 разработчиков
- **Простая логика** — ограниченный функционал
- **Строгая консистентность** — ACID критичны
- **Ограниченные ресурсы** — нет времени на инфраструктуру

## Когда микросервисы

- **Большие команды** — 20+ разработчиков, нужна независимость
- **Сложные системы** — множественные бизнес-домены
- **Высокие нагрузки** — разное масштабирование компонентов
- **Зрелые процессы** — есть CI/CD, мониторинг, оркестрация
- **Разные технологии** — оптимальные инструменты для задач

## Эволюционный подход

**Monolith First** — начать с монолита, выделять микросервисы по мере роста

**Strangler Fig Pattern** — постепенная замена частей монолита

**Database Decomposition** — разделение единой БД

## Гибридные подходы

| Подход | Описание |
|--------|----------|
| Modular Monolith | Монолит с чёткими границами модулей |
| Service-Oriented Monolith | Монолит с внутренними service boundaries |
| Distributed Monolith | Микросервисы с тесными связями (антипаттерн!) |

## Инфраструктурные требования

### Монолит
- Простой CI/CD пайплайн
- Один application server
- Единая БД
- Базовый мониторинг

### Микросервисы
- Docker, Kubernetes
- Service mesh
- Distributed monitoring
- API Gateway, service discovery

## Рекомендации

1. **Начинайте с монолита** при сомнениях
2. **Инвестируйте в модульность** с самого начала
3. **Готовьте инфраструктуру** перед переходом к микросервисам
4. **Conway's Law** — архитектура отражает структуру организации

---

Дата создания: 2025-12-01

Ссылки:

[[36.00 Архитектура]]
[[36.01 Монолит]]
[[36.02 Микросервисы]]
