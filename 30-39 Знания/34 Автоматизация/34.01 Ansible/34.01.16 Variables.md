# 34.01.16 Variables

Переменные в Ansible обеспечивают гибкость и переиспользование кода.

## Типы переменных

```yaml
# Простые
http_port: 80
server_name: "web.example.com"
ssl_enabled: true

# Списки
packages:
  - nginx
  - php-fpm
  - mysql-server

# Словари
database:
  host: "db.example.com"
  port: 3306
  name: "webapp"
```

## Уровни определения

**Inventory:**

```ini
[webservers:vars]
http_port=80
```

**Playbook:**

```yaml
- hosts: webservers
  vars:
    app_name: "myapp"
```

**Внешние файлы:**

```yaml
vars_files:
  - vars/common.yml
  - vars/{{ env }}.yml
```

## Приоритет (от низшего к высшему)

1. Role defaults
2. Inventory файлы
3. Playbook vars
4. Role vars
5. Command line (`-e "var=value"`)

## Специальные переменные

- `inventory_hostname` - имя хоста
- `group_names` - группы хоста
- `hostvars` - переменные всех хостов
- `ansible_facts` - информация о системе

---

Дата создания: 2025-12-01
Ссылки:

[[34.01.00 Ansible]]
[[34.01.17 Templates]]
[[34.01.19 Facts]]
