# 34.01.13 Playbook

Ansible Playbook — YAML файл с декларативным описанием автоматизации.

## Структура

```yaml
---
- name: "Configure web servers"
  hosts: webservers
  become: true
  vars:
    http_port: 80
  
  tasks:
    - name: "Install nginx"
      ansible.builtin.apt:
        name: nginx
        state: present

  handlers:
    - name: restart nginx
      ansible.builtin.service:
        name: nginx
        state: restarted
```

## Ключевые параметры

| Параметр | Назначение |
|----------|------------|
| hosts | Целевые хосты из inventory |
| become | Повышение привилегий (sudo) |
| vars | Переменные уровня play |
| tasks | Список задач |
| handlers | Обработчики событий |
| roles | Подключение ролей |

## Запуск

```bash
ansible-playbook site.yml           # выполнение
ansible-playbook site.yml --check   # dry-run
ansible-playbook site.yml --tags install  # по тегам
```

## Стратегии

- **linear** (по умолчанию) — все хосты вместе
- **free** — хосты независимо
- **debug** — интерактивная отладка

---

Дата создания: 2025-12-01

Ссылки:

[[34.01.00 Ansible]]
[[34.01.15 Tasks]]
[[34.01.14 Roles]]
[[34.01.20 Handlers]]
