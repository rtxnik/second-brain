# 34.01.19 Facts

Ansible Facts — системная информация о managed hosts, собираемая автоматически.

## Основные категории

**Система и ОС:**
- `ansible_os_family` — семейство ОС (Debian, RedHat)
- `ansible_distribution` — дистрибутив (Ubuntu, CentOS)
- `ansible_distribution_version` — версия
- `ansible_kernel` — версия ядра

**Железо:**
- `ansible_processor_vcpus` — количество vCPU
- `ansible_memtotal_mb` — RAM в MB
- `ansible_devices` — диски

**Сеть:**
- `ansible_default_ipv4.address` — основной IP
- `ansible_hostname` — имя хоста
- `ansible_fqdn` — полное доменное имя

## Использование

```yaml
- name: "Install on Ubuntu"
  ansible.builtin.apt:
    name: nginx
  when: ansible_distribution == "Ubuntu"

- name: "Configure workers"
  ansible.builtin.template:
    src: nginx.conf.j2
    dest: /etc/nginx/nginx.conf
  vars:
    worker_processes: "{{ ansible_processor_vcpus }}"
```

## Управление

```bash
ansible hostname -m setup                    # все facts
ansible hostname -m setup -a "filter=ansible_mem*"  # фильтр
```

```yaml
- hosts: all
  gather_facts: false  # отключение
```

---

Дата создания: 2025-12-01

Ссылки:

[[34.01.00 Ansible]]
[[34.01.16 Variables]]
[[34.01.13 Playbook]]
