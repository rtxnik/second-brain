# 21.02.02 IP адресация

> Полная таблица IP адресов всех устройств

## VLAN 10 - Management (10.0.10.0/24)

| IP          | Hostname       | Назначение         |
| ----------- | -------------- | ------------------ |
| 10.0.10.1   | opnsense       | Gateway            |
| 10.0.10.11  | pve-compute-01 | Proxmox node 1     |
| 10.0.10.12  | pve-compute-02 | Proxmox node 2     |
| 10.0.10.13  | pve-compute-03 | Proxmox node 3     |
| 10.0.10.20  | truenas        | TrueNAS management |
| 10.0.10.254 | mikrotik       | MikroTik switch    |

---

## Cluster Network (10.0.11.0/24)

| IP         | Hostname    | Назначение      |
| ---------- | ----------- | --------------- |
| 10.0.11.11 | pve-node-01 | Corosync + Ceph |
| 10.0.11.12 | pve-node-02 | Corosync + Ceph |
| 10.0.11.13 | pve-node-03 | Corosync + Ceph |

---

## VLAN 20 - Services (10.0.20.0/24)

### Инфраструктура (10.0.20.10-19)

| IP            | Hostname      | Назначение                  |
| ------------- | ------------- | --------------------------- |
| 10.0.20.1     | gateway       | OPNsense                    |
| 10.0.20.11    | dns-01        | BIND master                 |
| 10.0.20.12    | dns-02        | BIND slave                  |
| 10.0.20.13    | db-postgres   | PostgreSQL [резерв]         |
| 10.0.20.14    | gitlab-runner | CI/CD [резерв]              |
| 10.0.20.15    | monitoring    | Prometheus/Grafana [резерв] |
| 10.0.20.16-19 | -             | [резерв]                    |

### Production K8s Cluster (10.0.20.20-39)

| IP            | Hostname           | Роль                 |
| ------------- | ------------------ | -------------------- |
| 10.0.20.20    | k8s-prod-master-1  | Control Plane + etcd |
| 10.0.20.21    | k8s-prod-master-2  | Control Plane + etcd |
| 10.0.20.22    | k8s-prod-master-3  | Control Plane + etcd |
| 10.0.20.23-24 | -                  | [резерв masters]     |
| 10.0.20.25    | k8s-prod-api       | VIP для HA API       |
| 10.0.20.26-29 | -                  | [резерв]             |
| 10.0.20.30    | k8s-prod-ingress-1 | Ingress Controller   |
| 10.0.20.31    | k8s-prod-worker-1  | Worker               |
| 10.0.20.32    | k8s-prod-worker-2  | Worker               |
| 10.0.20.33-39 | -                  | [резерв workers]     |

### Test K8s Cluster (10.0.20.40-59)

| IP            | Hostname           | Роль                 |
| ------------- | ------------------ | -------------------- |
| 10.0.20.40    | k8s-test-master-1  | Control Plane + etcd |
| 10.0.20.41    | k8s-test-master-2  | Control Plane + etcd |
| 10.0.20.42    | k8s-test-master-3  | Control Plane + etcd |
| 10.0.20.43-44 | -                  | [резерв masters]     |
| 10.0.20.45    | k8s-test-api       | VIP для HA API       |
| 10.0.20.46-49 | -                  | [резерв]             |
| 10.0.20.50    | k8s-test-ingress-1 | Ingress Controller   |
| 10.0.20.51    | k8s-test-worker-1  | Worker               |
| 10.0.20.52    | k8s-test-worker-2  | Worker               |
| 10.0.20.53-59 | -                  | [резерв workers]     |

### Резерв и DHCP

| Диапазон        | Назначение      |
| --------------- | --------------- |
| 10.0.20.60-99   | Будущие сервисы |
| 10.0.20.100-200 | DHCP Pool       |

---

## VLAN 30 - Storage (10.0.30.0/24)

| IP         | Hostname | Назначение            |
| ---------- | -------- | --------------------- |
| 10.0.30.1  | gateway  | OPNsense              |
| 10.0.30.10 | truenas  | NFS/SMB (primary)     |
| 10.0.30.11 | pbs      | Proxmox Backup Server |

---

## VLAN 40 - IoT (10.0.40.0/24)

| Диапазон        | Назначение             |
| --------------- | ---------------------- |
| 10.0.40.1       | Gateway                |
| 10.0.40.10-50   | Статические устройства |
| 10.0.40.100-200 | DHCP Pool              |

---

## VLAN 50 - DMZ (10.0.50.0/24)

| Диапазон      | Назначение       |
| ------------- | ---------------- |
| 10.0.50.1     | Gateway          |
| 10.0.50.10-50 | Exposed services |

---

Дата создания: 02-12-2025 18:22

#### Ссылки:

[[21.02.00 Сеть]]
[[21.02.01 VLAN архитектура]]
